graph TB
    subgraph "🏛️ SPCMS: COMPLETE TECHNICAL APPROACH"
        subgraph "👥 USER LAYER"
            U1[👥 Pilgrims<br/>Mobile App<br/>Web Portal<br/>Kiosks]
            U2[🏛️ Authorities<br/>Dashboard<br/>Analytics<br/>Alerts]
            U3[👨‍💼 Volunteers<br/>Staff App<br/>Communication<br/>Maps]
        end
        
        subgraph "🌐 API & SECURITY"
            API[🌐 API Gateway<br/>JWT Auth<br/>Rate Limiting<br/>Load Balancing]
            SEC[🔒 Security<br/>Multi-layer<br/>Encryption<br/>Compliance]
        end
        
        subgraph "⚙️ MICROSERVICES"
            MS1[👤 User Service]
            MS2[🎟️ Queue Service]
            MS3[🗺️ Map Service]
            MS4[🚨 Alert Service]
            MS5[🌐 Language Service]
            MS6[💳 Payment Service]
        end
        
        subgraph "🗄️ DATA LAYER"
            DB1[🐘 PostgreSQL<br/>User Data<br/>Transactions]
            DB2[🍃 MongoDB<br/>IoT Data<br/>Analytics]
            DB3[⚡ Redis<br/>Cache<br/>Sessions]
            DB4[📊 InfluxDB<br/>Time Series<br/>Metrics]
        end
        
        subgraph "🤖 AI/ML ENGINE"
            AI1[🧠 Prediction<br/>Crowd Forecasting<br/>LSTM Models]
            AI2[📈 Analytics<br/>Real-time<br/>Pattern Recognition]
            AI3[🔍 Detection<br/>Anomaly<br/>Emergency Alerts]
        end
        
        subgraph "📡 IOT ECOSYSTEM"
            IOT1[📹 CCTV<br/>4K Cameras<br/>AI Analytics]
            IOT2[📡 Sensors<br/>People Counters<br/>Environment]
            IOT3[🚁 Drones<br/>Aerial Monitor<br/>Thermal Imaging]
            IOT4[📱 Beacons<br/>Location<br/>Emergency SOS]
        end
        
        subgraph "🛕 TEMPLE SITES"
            T1[🕉️ Somnath<br/>Coastal Temple<br/>High Footfall]
            T2[🏛️ Dwarka<br/>Krishna Temple<br/>Historical Site]
            T3[🙏 Ambaji<br/>Shakti Peeth<br/>Mountain Temple]
            T4[⛰️ Pavagadh<br/>Hill Temple<br/>UNESCO Site]
        end
        
        subgraph "📱 MOBILE FEATURES"
            MF1[🎟️ Queue Booking<br/>QR Codes<br/>Wait Times]
            MF2[🗺️ Navigation<br/>GPS Maps<br/>Route Guide]
            MF3[🚨 Emergency<br/>SOS Button<br/>Location Share]
            MF4[🌐 Multilingual<br/>Hindi Gujarati<br/>English Support]
        end
        
        subgraph "🚀 IMPLEMENTATION"
            P1[Phase 1<br/>Foundation<br/>3 Months]
            P2[Phase 2<br/>Intelligence<br/>6 Months]
            P3[Phase 3<br/>Integration<br/>9 Months]
            P4[Phase 4<br/>Deployment<br/>12 Months]
        end
        
        subgraph "📊 BENEFITS"
            B1[⏱️ 50% Faster<br/>Wait Times<br/>Queue Management]
            B2[🛡️ 99% Safer<br/>Emergency Response<br/>Crowd Control]
            B3[📱 100% Digital<br/>Mobile First<br/>Accessibility]
            B4[🌍 Scalable<br/>Pan India<br/>All Temples]
        end
    end
    
    U1 & U2 & U3 --> API
    API --> SEC
    SEC --> MS1 & MS2 & MS3 & MS4 & MS5 & MS6
    MS1 & MS2 & MS3 --> DB1 & DB2 & DB3 & DB4
    MS4 & MS5 & MS6 --> AI1 & AI2 & AI3
    AI1 & AI2 & AI3 --> IOT1 & IOT2 & IOT3 & IOT4
    IOT1 & IOT2 & IOT3 & IOT4 --> T1 & T2 & T3 & T4
    MS1 & MS2 --> MF1 & MF2 & MF3 & MF4
    P1 --> P2 --> P3 --> P4
    T1 & T2 & T3 & T4 --> B1 & B2 & B3 & B4
    
    style U1 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style U2 fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    style U3 fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style API fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px
    style SEC fill:#ffebee,stroke:#d32f2f,stroke-width:3px
    style MS1 fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    style MS2 fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    style MS3 fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    style MS4 fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    style MS5 fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    style MS6 fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    style DB1 fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    style DB2 fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    style DB3 fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    style DB4 fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    style AI1 fill:#fff8e1,stroke:#f9a825,stroke-width:2px
    style AI2 fill:#fff8e1,stroke:#f9a825,stroke-width:2px
    style AI3 fill:#fff8e1,stroke:#f9a825,stroke-width:2px
    style IOT1 fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    style IOT2 fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    style IOT3 fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    style IOT4 fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    style T1 fill:#f1f8e9,stroke:#558b2f,stroke-width:3px
    style T2 fill:#f1f8e9,stroke:#558b2f,stroke-width:3px
    style T3 fill:#f1f8e9,stroke:#558b2f,stroke-width:3px
    style T4 fill:#f1f8e9,stroke:#558b2f,stroke-width:3px
    style MF1 fill:#e8eaf6,stroke:#3f51b5,stroke-width:2px
    style MF2 fill:#e8eaf6,stroke:#3f51b5,stroke-width:2px
    style MF3 fill:#e8eaf6,stroke:#3f51b5,stroke-width:2px
    style MF4 fill:#e8eaf6,stroke:#3f51b5,stroke-width:2px
    style P1 fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px
    style P2 fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px
    style P3 fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px
    style P4 fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px
    style B1 fill:#e8f5e8,stroke:#4caf50,stroke-width:3px
    style B2 fill:#e8f5e8,stroke:#4caf50,stroke-width:3px
    style B3 fill:#e8f5e8,stroke:#4caf50,stroke-width:3px
    style B4 fill:#e8f5e8,stroke:#4caf50,stroke-width:3px
